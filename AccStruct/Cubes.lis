domain Music notaccumulated, static;

type TMusicCube;
  -- parameter Time        :Date;
  parameter Musicant    :refMusicants;
  parameter Genre       :refGenres;
  parameter Counter     :unit refUnit = 1^шт;
end;

type TMusicCubeEx;
  -- parameter Time        :Date;
  parameter Musicant    :refMusicants;
  parameter Albums      :refAlbums;
  parameter Counter     :unit refUnit = 1^шт;
end;

accounts Music;
  счет MSC1  :TMusicCube;
  счет MSC2  :TMusicCubeEx;
end;

--Journal Alboms title "Альбомы";
--  Records Refs.Albums;
--  Filter "";
--  DateField Year;
--
--  Card Com.BaseCard;
--
--  Operation Album.RegisterAlbum from GenresAlbums;
----    parameter Musicant from  Refs.Albums.Musicant;
----    parameter Single from Single;
----    parameter AlbumCode from Refs.Albums.Code;
--    parameter Genre     from GenresAlbum;
--  end;
--end;

Journal Alboms title "Альбомы" :Version2;
  Records Refs.Albums;
  Filter "";
  DateField Year;
--  EnableField Проведен;

  Card Com.BaseCard;

  LoadingFields Single, Code, GenresAlbums.GenresAlbum;

  Operation AlbumEx.Regestry;
end;

Journal Alboms2 title "Музыканты и количество альбомов" :Version2;
  Records Refs.Albums;
  Filter "";
  DateField Year;
--  EnableField Проведен;

  Card Com.BaseCard;

  LoadingFields Single, Code, Name, Year, MusicantAlbum.Musicant;

  Operation Album2.Regestry;
end;